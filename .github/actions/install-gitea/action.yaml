TODO: Update create-kind-cluster action to add extraPortMappings


      - name: Install Gitea (local Git server)
        run: |
          helm repo add gitea-charts https://dl.gitea.io/charts/
          helm repo update
          helm install gitea gitea-charts/gitea --namespace gitea -f gitea-config.yaml --create-namespace
          kubectl wait --for=condition=available deployment/gitea -n gitea --timeout=120s
          echo "TEST_GIT_SERVER_URL=http://localhost:30080" >> $GITHUB_ENV

      - name: exec into gitea pod and create test user
        run: |
          # TODO (willsmith)
          gitea_pod=$(kubectl get pods -n gitea -l app=gitea -o jsonpath='{.items[0].metadata.name}')
          # TODO can you exec and run once?
          kubectl exec -it $gitea_pod -n gitea -- /bin/bash
          gitea admin user create --admin --username testuser --email testuser@radapp.io --password giteaadmin --must-change-password=false
          TOKEN=$(gitea admin user generate-access-token --username testuser --token-name radius-functional-test-gitea-access-token --raw)