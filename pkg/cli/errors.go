// ------------------------------------------------------------
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
// ------------------------------------------------------------

package cli

import (
	"fmt"
)

// FriendlyError is a type to use in the CLI codebase for errors that should be shown
// directly for the user. Use this for error conditions that are "expected" like file
// conflicts or missing data.
type FriendlyError struct {
	Message string
}

//
// <AiDoc: The following comments were generated by OpenAI explaining the code as it existed at the time of this commit>
//	This function is creating a custom error type called FriendlyError which contains a message field. The function then 
//	returns the message field when the Error() method is called.
//
// </AiDoc: End of OpenAI comments>
func (fe *FriendlyError) Error() string {
	return fe.Message
}

//
// <AiDoc: The following comments were generated by OpenAI explaining the code as it existed at the time of this commit>
//	
 
//	The function is checking if the target error is the same type as the FriendlyError and if the message of the target 
//	error is the same as the message of the FriendlyError. If both of these conditions are true, the function will return 
//	true.
//
// </AiDoc: End of OpenAI comments>
func (fe *FriendlyError) Is(target error) bool {
	e, ok := target.(*FriendlyError)
	return ok && fe.Message == e.Message
}

// ClusterUnreachableError is an error type to be thrown when the kubernetes cluster
// is unreachable. The cluster could be gone, or we don't have access.
type ClusterUnreachableError struct {
	Err error
}

//
// <AiDoc: The following comments were generated by OpenAI explaining the code as it existed at the time of this commit>
//	This function is checking if the given error is of type ClusterUnreachableError. It returns true if it is, and false 
//	otherwise.
//
// </AiDoc: End of OpenAI comments>
func (e *ClusterUnreachableError) Is(target error) bool {
	_, ok := target.(*ClusterUnreachableError)
	return ok
}

//
// <AiDoc: The following comments were generated by OpenAI explaining the code as it existed at the time of this commit>
//	This function is creating an error message for when a Kubernetes cluster is unreachable. It takes in an error as an 
//	argument and then formats it into a string that includes the error message.
//
// </AiDoc: End of OpenAI comments>
func (e *ClusterUnreachableError) Error() string {
	return fmt.Sprintf("kubernetes cluster unreachable: %s", e.Err.Error())
}
